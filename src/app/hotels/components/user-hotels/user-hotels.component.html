<header>
    <p-toolbar>
        <div class="flex flex-column gap-2 w-full">
            <h1>Encuentra tu pr贸ximo hotel</h1>
            
            <div class="mt-3 grid gap-3">
                <div class="col">
                    <p-inputGroup>
                        <p-inputGroupAddon>
                            <i class="pi pi-map-marker"></i>
                        </p-inputGroupAddon>
    
                        <input pInputText
                                type="text"
                                placeholder="Ubicaci贸n de tu prox. alojamiento"
                                (input)="filterHotels($event.target)">
                    </p-inputGroup>
                </div>

                <div class="col">
                    <p-calendar selectionMode="range"
                                iconDisplay="input"
                                dateFormat="D, d M"
                                placeholder="Fechas de ingreso y salida"
                                [minDate]="minDate"
                                [showIcon]="true"
                                [readonlyInput]="true"/>
                </div>

                <div class="col">
                    <p-inputNumber #persons [showButtons]="true"
                                    placeholder="Cantidad de personas"
                                    buttonLayout="horizontal"
                                    inputId="horizontal"
                                    spinnerMode="horizontal"
                                    incrementButtonIcon="pi pi-plus"
                                    decrementButtonIcon="pi pi-minus"
                                    [suffix]="(persons.value == 1) ? ' persona' : ' personas'"
                                    [min]="1"
                                    [step]="1"/>
                </div>
            </div>
        </div>
    </p-toolbar>
</header>

<section class="mt-3">
    <p-table [value]="hotels()"
            dataKey="id"
            selectionMode="single"
            [rows]="5"
            [paginator]="true"
            [showCurrentPageReport]="true"
            [rowsPerPageOptions]="[5, 10, 20]"
            currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} hoteles">

        <ng-template pTemplate="header">
            <tr>
                <th>Hotel</th>
                <th>Ubicaci贸n</th>
                <th>Descripci贸n</th>
                <th>Estrellas</th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-hotel>
            <tr [pSelectableRow]="hotel">
                <td routerLink="./{{hotel.id}}">
                    <div class="flex align-items-center gap-2">
                        <img [src]="hotel.img_url" height="40px" [alt]="hotel.id" class="border-round">
                        {{ hotel.name }}
                    </div>
                </td>
                <td routerLink="./{{hotel.id}}">
                    {{ hotel.location }}
                </td>
                <td routerLink="./{{hotel.id}}">
                    <p class="text-overflow-ellipsis overflow-hidden w-30rem h-4rem">
                        {{ hotel.description }}
                    </p>
                </td>
                <td routerLink="./{{hotel.id}}">
                    <p-badge severity="warning" [value]="hotel.score"/>
                </td>
                <td>
                    <p-button routerLink="./edit/{{hotel.id}}"
                              type="button"
                              label="Reservar"
                              icon="pi pi-bookmark"/>
                </td>
            </tr>
        </ng-template>
    </p-table>
</section>